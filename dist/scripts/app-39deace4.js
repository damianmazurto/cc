"use strict";angular.module("ccArticles",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(t,a){t.state("listing",{url:"/:type?/:name?",templateUrl:"app/main/main.html",controller:"MainCtrl",resolve:{pagination:["$stateParams",function(t){switch(t.type){case"next":case"prev":return{action:t.type,name:t.name};default:return{action:"first"}}}]}}).state("article",{url:"/article/:id",templateUrl:"app/components/article/article.html",controller:"ArticleCtrl"}),a.otherwise("/")}]),angular.module("ccArticles").controller("NavbarCtrl",["$scope",function(t){t.date=new Date}]),angular.module("ccArticles").controller("ArticleCtrl",["$scope","$state","$stateParams",function(t,a,e){console.log(e)}]),angular.module("ccArticles").service("mainService",["$http","$q",function(t,a){function e(){var a=t({method:"get",url:c});return a.then(l,r)}function i(a,e){var i=t({method:"get",url:c,params:{before:a,count:e}});return i.then(l,r)}function n(a,e){var i=t({method:"get",url:c,params:{after:a,count:e}});return i.then(l,r)}function r(t){return a.reject(angular.isObject(t.data)&&t.data.message?t.data.message:"An unknown error occurred.")}function l(t){return t.data}var c="http://www.reddit.com/r/all/new.json";return{getListFirstPage:e,getListBeforeName:i,getListAfterName:n}}]),angular.module("ccArticles").factory("mainModel",["mainService",function(t){function a(t){for(var a=[],e=0,i=t.length;i>e;e+=1){var n={id:t[e].data.id,name:t[e].data.name,title:t[e].data.title,url:t[e].data.url,permalink:t[e].data.permalink,thumbnail:t[e].data.thumbnail};a.push(n)}return a}var e=function(){this.list=[],this.before="",this.after="",this.limit=25};return e.prototype.load=function(e){var i=this,n=null;switch(e.action){case"next":n=t.getListAfterName(e.name,this.limit);break;case"prev":n=t.getListBeforeName(e.name,this.limit);break;case"first":n=t.getListFirstPage()}n.then(function(t){console.log(t.data),i.before=t.data.before,i.after=t.data.after,i.list=a(t.data.children),console.log(i)})},e}]),angular.module("ccArticles").controller("MainCtrl",["$scope","$state","pagination","mainModel",function(t,a,e,i){t.ArticleList=new i,t.ArticleList.load(e),console.log(e),t.nextPage=function(){a.go("listing",{type:"next",name:t.ArticleList.after})},t.prevPage=function(){a.go("listing",{type:"prev",name:t.ArticleList.before})},t.showArticle=function(t){a.go("article",{id:t})}}]),angular.module("ccArticles").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="row"><div class="col-md-6"><button ng-show="ArticleList.after" ng-click="nextPage()">next</button> <button ng-show="ArticleList.before" ng-click="prevPage()">prev</button><div class="list-group" ng-repeat="articleItem in ArticleList.list"><a ng-href="" ng-click="showArticle(articleItem.id)" class="list-group-item" style="display: table; width: 100%;"><img class="pull-left" ng-show="articleItem.thumbnail.indexOf(\'http\') == 0" ng-src="{{articleItem.thumbnail}}"><h4 class="list-group-item-heading">{{articleItem.title}}</h4><p class="list-group-item-text">{{articleItem.permalink}}</p></a><br style="clear:both"></div></div></div><hr><div class="footer"></div></div>'),t.put("app/components/article/article.html",'<div class="container"><div ng-include="\'app/components/navbar/navbar.html\'"></div><div class="row"><div class="col-md-6"><p>Article</p></div></div><hr><div class="footer"></div></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse" ng-controller="NavbarCtrl"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right"><li>Current date: {{ date | date:\'yyyy-MM-dd\' }}</li></ul></div></div></nav>')}]);